@page
@model IndexModel
@{
    ViewData["Title"] = "CSBNorm - Norminette PHP MVC";
}

<!-- Hero Section -->
<section class="hero-section">
    <div class="hero-content">
        <h1 class="hero-title">CSBNorm</h1>
        <p class="hero-subtitle">La norminette type 42 pour projets PHP MVC sans framework</p>
        <p class="hero-description">
            Un outil de vérification de code complet pour garantir la qualité, la sécurité et les bonnes pratiques 
            dans vos projets PHP MVC personnalisés.
        </p>
        <div class="hero-buttons">
            <a href="#installation" class="btn-primary-custom">Télécharger CSBNorm</a>
            <a href="/Rules" class="btn-secondary-custom">Voir les règles</a>
        </div>
    </div>
</section>

<!-- Features Section -->
<section id="features" class="features-section">
    <div class="section-header">
        <h2>Pourquoi CSBNorm ?</h2>
        <p>Des standards stricts pour un code PHP professionnel</p>
    </div>
    
    <div class="features-grid">
        <div class="feature-card">
            <div class="feature-icon">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                </svg>
            </div>
            <h3>Sécurité renforcée</h3>
            <p>Protection XSS, CSRF, injection SQL, validation stricte des uploads et hashage sécurisé des mots de passe.</p>
        </div>
        
        <div class="feature-card">
            <div class="feature-icon">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <ellipse cx="12" cy="5" rx="9" ry="3"></ellipse>
                    <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path>
                    <path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>
                </svg>
            </div>
            <h3>Base de données</h3>
            <p>Migrations versionnées, indexation obligatoire, contraintes de clés étrangères et nommage cohérent.</p>
        </div>
        
        <div class="feature-card">
            <div class="feature-icon">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
                </svg>
            </div>
            <h3>Performance</h3>
            <p>Lazy loading, pagination automatique, cache manuel et élimination des requêtes N+1.</p>
        </div>
        
        <div class="feature-card">
            <div class="feature-icon">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                    <polyline points="14 2 14 8 20 8"></polyline>
                    <line x1="16" y1="13" x2="8" y2="13"></line>
                    <line x1="16" y1="17" x2="8" y2="17"></line>
                    <polyline points="10 9 9 9 8 9"></polyline>
                </svg>
            </div>
            <h3>Code propre</h3>
            <p>Architecture MVC stricte, autoloader PSR-4, helpers réutilisables et documentation complète.</p>
        </div>
        
        <div class="feature-card">
            <div class="feature-icon">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="3" y1="9" x2="21" y2="9"></line>
                    <line x1="9" y1="21" x2="9" y2="9"></line>
                </svg>
            </div>
            <h3>Templates sûrs</h3>
            <p>Échappement par défaut, séparation logique/présentation, assets versionnés et syntaxe courte.</p>
        </div>
        
        <div class="feature-card">
            <div class="feature-icon">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                </svg>
            </div>
            <h3>Authentification</h3>
            <p>Régénération de session, timeout configurable, protection des routes et configuration sécurisée.</p>
        </div>
    </div>
</section>

<!-- Rules Categories -->
<section class="categories-section">
    <div class="section-header">
        <h2>Catégories de règles</h2>
        <p>Plus de 100 règles réparties en 15 catégories</p>
    </div>
    
    <div class="categories-grid">
        <div class="category-card">
            <h4><span class="category-icon">▪</span> Structure MVC</h4>
            <p>Architecture, routing, autoloading PSR-4</p>
        </div>
        <div class="category-card">
            <h4><span class="category-icon">▪</span> Base de données</h4>
            <p>Migrations, indexation, relations</p>
        </div>
        <div class="category-card">
            <h4><span class="category-icon">▪</span> Configuration</h4>
            <p>Variables d'environnement, constantes</p>
        </div>
        <div class="category-card">
            <h4><span class="category-icon">▪</span> Authentification</h4>
            <p>Sessions, hashage, protection</p>
        </div>
        <div class="category-card">
            <h4><span class="category-icon">▪</span> Formulaires</h4>
            <p>CSRF, validation, sanitisation</p>
        </div>
        <div class="category-card">
            <h4><span class="category-icon">▪</span> Templates</h4>
            <p>Échappement, layouts, assets</p>
        </div>
        <div class="category-card">
            <h4><span class="category-icon">▪</span> Helpers</h4>
            <p>Fonctions utilitaires réutilisables</p>
        </div>
        <div class="category-card">
            <h4><span class="category-icon">▪</span> Git</h4>
            <p>Commits, branches, .gitignore</p>
        </div>
        <div class="category-card">
            <h4><span class="category-icon">▪</span> Performance</h4>
            <p>Cache, pagination, optimisation</p>
        </div>
        <div class="category-card">
            <h4><span class="category-icon">▪</span> Logs</h4>
            <p>Monitoring, niveaux, rotation</p>
        </div>
        <div class="category-card">
            <h4><span class="category-icon">▪</span> Sécurité</h4>
            <p>XSS, SQL injection, headers</p>
        </div>
        <div class="category-card">
            <h4><span class="category-icon">▪</span> API</h4>
            <p>REST, JSON, codes HTTP</p>
        </div>
    </div>
</section>

<!-- Installation Section -->
<section id="installation" class="installation-section">
    <div class="section-header">
        <h2>Installation</h2>
        <p>Téléchargez et utilisez CSBNorm en quelques minutes</p>
    </div>
    
    <div class="installation-content">
        <div class="install-steps">
            <div class="step-card">
                <div class="step-number">1</div>
                <h3>Télécharger</h3>
                <p>Téléchargez le binaire CSBNorm pour votre système d'exploitation.</p>
            </div>
            
            <div class="step-card">
                <div class="step-number">2</div>
                <h3>Installer</h3>
                <p>Placez l'exécutable dans votre PATH ou dans le dossier de votre projet.</p>
            </div>
            
            <div class="step-card">
                <div class="step-number">3</div>
                <h3>Vérifier</h3>
                <p>Lancez CSBNorm sur votre projet PHP MVC et corrigez les erreurs détectées.</p>
            </div>
        </div>

        <div class="download-section">
            <h3>Téléchargements disponibles</h3>
            <div class="download-cards">
                <div class="download-card">
                    <div class="download-icon">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="9" y1="3" x2="9" y2="21"></line>
                            <line x1="15" y1="3" x2="15" y2="21"></line>
                        </svg>
                    </div>
                    <h4>Windows</h4>
                    <p class="version">Version 1.0.0</p>
                    <a href="/downloads/csbnorm-windows-amd64.exe" class="btn-download" download>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="7 10 12 15 17 10"></polyline>
                            <line x1="12" y1="15" x2="12" y2="3"></line>
                        </svg>
                        Télécharger (x64)
                    </a>
                    <p class="file-info">csbnorm-windows-amd64.exe • ~5 MB</p>
                </div>

                <div class="download-card disabled">
                    <div class="download-icon">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>
                            <line x1="9" y1="9" x2="9.01" y2="9"></line>
                            <line x1="15" y1="9" x2="15.01" y2="9"></line>
                        </svg>
                    </div>
                    <h4>Linux</h4>
                    <p class="version">Bientôt disponible</p>
                    <button class="btn-download" disabled>
                        Prochainement
                    </button>
                    <p class="file-info">Version en développement</p>
                </div>

                <div class="download-card disabled">
                    <div class="download-icon">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                            <path d="M2 17l10 5 10-5"></path>
                            <path d="M2 12l10 5 10-5"></path>
                        </svg>
                    </div>
                    <h4>macOS</h4>
                    <p class="version">Bientôt disponible</p>
                    <button class="btn-download" disabled>
                        Prochainement
                    </button>
                    <p class="file-info">Version en développement</p>
                </div>
            </div>
        </div>

        <div class="usage-section">
            <h3>Utilisation rapide</h3>
            <div class="code-example">
                <pre><code># Vérifier un projet entier
csbnorm check ./mon-projet

# Vérifier un fichier spécifique
csbnorm check ./mon-projet/app/controllers/UserController.php

# Générer un rapport détaillé
csbnorm check ./mon-projet --report=html

# Afficher l'aide
csbnorm --help</code></pre>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
    <div class="cta-content">
        <h2>Prêt à améliorer votre code PHP ?</h2>
        <p>Consultez la documentation complète des règles et commencez à utiliser CSBNorm dès aujourd'hui.</p>
        <a href="/Rules" class="btn-primary-custom">Voir toutes les règles</a>
    </div>
</section>
