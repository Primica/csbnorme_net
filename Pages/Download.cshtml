@page
@model csbnorme_net.Pages.DownloadModel
@{
    ViewData["Title"] = "Télécharger - CSBNorm";
}

<div class="download-page">
    <!-- Hero -->
    <section class="download-hero">
        <div class="hero-content">
            <h1>Télécharger CSBNorm</h1>
            <p>Obtenez le binaire et installez-le en quelques minutes</p>
        </div>
    </section>

    <!-- Download Cards -->
    <section class="download-cards-section">
        <div class="download-container">
            <div class="download-cards">
                <div class="download-card">
                    <div class="download-icon">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="9" y1="3" x2="9" y2="21"></line>
                            <line x1="15" y1="3" x2="15" y2="21"></line>
                        </svg>
                    </div>
                    <h2>Windows</h2>
                    <p class="version">Version 1.0.0</p>
                    <a href="/downloads/csbnorm-windows-amd64.exe" class="btn-download" download>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="7 10 12 15 17 10"></polyline>
                            <line x1="12" y1="15" x2="12" y2="3"></line>
                        </svg>
                        Télécharger pour Windows
                    </a>
                    <p class="file-info">csbnorm-windows-amd64.exe • ~5 MB</p>
                </div>

                <div class="download-card disabled">
                    <div class="download-icon">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>
                            <line x1="9" y1="9" x2="9.01" y2="9"></line>
                            <line x1="15" y1="9" x2="15.01" y2="9"></line>
                        </svg>
                    </div>
                    <h2>Linux</h2>
                    <p class="version">Bientôt disponible</p>
                    <button class="btn-download" disabled>
                        Prochainement
                    </button>
                    <p class="file-info">Version en développement</p>
                </div>

                <div class="download-card disabled">
                    <div class="download-icon">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                            <path d="M2 17l10 5 10-5"></path>
                            <path d="M2 12l10 5 10-5"></path>
                        </svg>
                    </div>
                    <h2>macOS</h2>
                    <p class="version">Bientôt disponible</p>
                    <button class="btn-download" disabled>
                        Prochainement
                    </button>
                    <p class="file-info">Version en développement</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Installation Instructions -->
    <section class="install-instructions-section">
        <div class="install-container">
            <h2>Instructions d'installation pour Windows</h2>
            
            <div class="setup-steps">
                <div class="setup-option">
                    <h3><span class="option-number">Option 1</span> Ajouter au PATH (Recommandé)</h3>
                    <p>Permet d'utiliser <code>csbnorm</code> depuis n'importe quel dossier.</p>
                    
                    <div class="setup-instructions">
                        <div class="instruction-step">
                            <div class="step-label">1</div>
                            <div class="step-content">
                                <p><strong>Créer un dossier pour les binaires</strong></p>
                                <div class="code-example">
                                    <pre><code># PowerShell
New-Item -ItemType Directory -Path "C:\Tools" -Force
Move-Item csbnorm-windows-amd64.exe C:\Tools\csbnorm.exe</code></pre>
                                </div>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <div class="step-label">2</div>
                            <div class="step-content">
                                <p><strong>Ajouter au PATH système</strong></p>
                                <div class="code-example">
                                    <pre><code># PowerShell (en tant qu'Administrateur)
$path = [Environment]::GetEnvironmentVariable("Path", "Machine")
$newPath = $path + ";C:\Tools"
[Environment]::SetEnvironmentVariable("Path", $newPath, "Machine")</code></pre>
                                </div>
                                <p class="note">Ou manuellement : <em>Paramètres système > Variables d'environnement > Path > Modifier > Nouveau > C:\Tools</em></p>
                            </div>
                        </div>

                        <div class="instruction-step">
                            <div class="step-label">3</div>
                            <div class="step-content">
                                <p><strong>Vérifier l'installation</strong></p>
                                <div class="code-example">
                                    <pre><code># Redémarrer PowerShell puis :
csbnorm --version</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="setup-option">
                    <h3><span class="option-number">Option 2</span> Utilisation locale</h3>
                    <p>Utiliser directement dans le dossier du projet sans modifier le PATH.</p>
                    <div class="code-example">
                        <pre><code># Placer le binaire dans votre projet
.\csbnorm-windows-amd64.exe check .

# Ou créer un alias dans votre session PowerShell
Set-Alias csbnorm "C:\chemin\vers\csbnorm-windows-amd64.exe"</code></pre>
                    </div>
                </div>

                <div class="setup-option">
                    <h3><span class="option-number">Option 3</span> PATH utilisateur uniquement</h3>
                    <p>Ajouter au PATH de votre utilisateur (pas besoin de droits admin).</p>
                    <div class="code-example">
                        <pre><code># PowerShell (sans admin)
$userPath = [Environment]::GetEnvironmentVariable("Path", "User")
$newUserPath = $userPath + ";C:\Tools"
[Environment]::SetEnvironmentVariable("Path", $newUserPath, "User")</code></pre>
                    </div>
                </div>
            </div>

            <!-- Usage Examples -->
            <div class="usage-examples">
                <h2>Utilisation rapide</h2>
                <div class="code-example">
                    <pre><code># Vérifier un projet entier
csbnorm check ./mon-projet

# Vérifier un fichier spécifique
csbnorm check ./mon-projet/app/controllers/UserController.php

# Générer un rapport détaillé
csbnorm check ./mon-projet --report=html

# Lister toutes les règles
csbnorm rules

# Afficher l'aide
csbnorm --help</code></pre>
                </div>
            </div>

            <!-- Quick Links -->
            <div class="quick-links">
                <a href="/" class="link-card">
                    <h4>← Retour à l'accueil</h4>
                    <p>Découvrir CSBNorm</p>
                </a>
                <a href="/Rules" class="link-card">
                    <h4>Documentation des règles →</h4>
                    <p>Voir toutes les règles de la norminette</p>
                </a>
            </div>
        </div>
    </section>
</div>
